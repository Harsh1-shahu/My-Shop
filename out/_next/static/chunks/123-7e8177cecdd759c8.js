"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[123],{265:(e,t,n)=>{n.d(t,{cn:()=>o});var r=n(2596),a=n(9688);function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.QP)((0,r.A)(...t))}},5105:(e,t,n)=>{n.d(t,{Ay:()=>x,Dd:()=>p,Pt:()=>m,bE:()=>l,dt:()=>c,iD:()=>d,ri:()=>u,sX:()=>h});var r=n(1990);let a={value:0,cart:[],user:{name:"",email:"",phone:"",address:"",profilePicture:"",...(()=>{try{let e=localStorage.getItem("user");return e?JSON.parse(e):null}catch(e){return console.error("Failed to parse user from localStorage:",e),null}})()||{}},orders:(()=>{try{let e=localStorage.getItem("orders");return e?JSON.parse(e):[]}catch(e){return console.error("Failed to parse orders from localStorage:",e),[]}})()},o=(0,r.Z0)({name:"counter",initialState:a,reducers:{increment(e){e.value+=1},decrement(e){e.value-=1},addToCart(e,t){let n=e.cart.find(e=>e.id===t.payload.id);n?n.quantity+=1:e.cart.push({...t.payload,quantity:1})},removeFromCart(e,t){let n=e.cart.findIndex(e=>e.id===t.payload.id);-1!==n&&(e.cart[n].quantity>1?e.cart[n].quantity-=1:e.cart.splice(n,1))},login(e,t){e.user=t.payload,localStorage.setItem("user",JSON.stringify(t.payload))},logout(e){e.user=null,localStorage.removeItem("user")},setUserData(e,t){let{name:n,email:r,phone:a,address:o}=t.payload;e.user={...e.user,name:n,email:r,phone:a,address:o},localStorage.setItem("user",JSON.stringify(e.user))},checkout:(e,t)=>{var n,r;let a=Date.now(),o={id:"".concat(a),items:e.cart.map((e,t)=>({...e,uid:"".concat(e.id,"-").concat(a,"-").concat(t)})),date:new Date().toISOString(),total:e.cart.reduce((e,t)=>e+t.price*t.quantity,0),paymentMethod:(null==(n=t.payload)?void 0:n.paymentMethod)||"Unknown",deliveryStatus:"Pending",address:(null==(r=t.payload)?void 0:r.address)||e.user.address||"N/A"};e.orders.push(o),e.cart=[],localStorage.setItem("orders",JSON.stringify(e.orders))},updateDeliveryStatus(e,t){let{orderId:n,status:r}=t.payload,a=e.orders.find(e=>e.id===n);a&&(a.deliveryStatus=r,localStorage.setItem("orders",JSON.stringify(e.orders)))},updateProfilePicture(e,t){e.user&&(e.user.profilePicture=t.payload,localStorage.setItem("user",JSON.stringify(e.user)))}}}),{increment:i,decrement:s,addToCart:l,removeFromCart:c,login:d,logout:u,checkout:m,updateProfilePicture:p,setUserData:h,updateDeliveryStatus:g}=o.actions,x=o.reducer},5504:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(5155),a=n(2115),o=n(4540),i=n(5105),s=n(5695),l=n(8093),c=n(4717),d=n(3029),u=n(760),m=n(305),p=n(2098),h=n(3509),g=n(1362),x=n(4624),v=n(2085),f=n(265);let y=(0,v.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function b(e){let{className:t,variant:n,size:a,asChild:o=!1,...i}=e,s=o?x.DX:"button";return(0,r.jsx)(s,{"data-slot":"button",className:(0,f.cn)(y({variant:n,size:a,className:t})),...i})}function w(e){let{variant:t="circle-blur",start:n="top-left",showLabel:o=!1,url:i=""}=e,{theme:s,setTheme:l}=(0,g.D)(),c="theme-transition-styles",d=a.useCallback((e,t)=>{let n=document.getElementById(c);console.log("style ELement",n),console.log("name",t),n||((n=document.createElement("style")).id=c,document.head.appendChild(n)),n.textContent=e,console.log("content updated")},[]),u=a.useCallback(()=>{let e=((e,t,n)=>{let r=((e,t)=>{if("center"===t)return;let n=(e=>{switch(e){case"top-left":return{cx:"0",cy:"0"};case"top-right":return{cx:"40",cy:"0"};case"bottom-left":return{cx:"0",cy:"40"};case"bottom-right":return{cx:"40",cy:"40"}}})(t);if(!n)throw Error("Invalid start position: ".concat(t));let{cx:r,cy:a}=n;return"circle"===e?'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><circle cx="'.concat(r,'" cy="').concat(a,'" r="20" fill="white"/></svg>'):"circle-blur"===e?'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><defs><filter id="blur"><feGaussianBlur stdDeviation="2"/></filter></defs><circle cx="'.concat(r,'" cy="').concat(a,'" r="18" fill="white" filter="url(%23blur)"/></svg>'):""})(e,t),a=(e=>{switch(e){case"top-left":return"top left";case"top-right":return"top right";case"bottom-left":return"bottom left";case"bottom-right":return"bottom right"}})(t);return"polygon"===e?{name:"".concat(e,"-").concat(t),css:"\n       ::view-transition-group(root) {\n        animation-duration: 0.7s;\n        animation-timing-function: var(--expo-out);\n      }\n            \n      ::view-transition-new(root) {\n        animation-name: reveal-light;\n      }\n\n      ::view-transition-old(root),\n      .dark::view-transition-old(root) {\n        animation: none;\n        z-index: -1;\n      }\n      .dark::view-transition-new(root) {\n        animation-name: reveal-dark;\n      }\n\n      @keyframes reveal-dark {\n        from {\n          clip-path: polygon(50% -71%, -50% 71%, -50% 71%, 50% -71%);\n        }\n        to {\n          clip-path: polygon(50% -71%, -50% 71%, 50% 171%, 171% 50%);\n        }\n      }\n\n      @keyframes reveal-light {\n        from {\n          clip-path: polygon(171% 50%, 50% 171%, 50% 171%, 171% 50%);\n        }\n        to {\n          clip-path: polygon(171% 50%, 50% 171%, -50% 71%, 50% -71%);\n        }\n      }\n      "}:"circle"===e&&"center"==t?{name:"".concat(e,"-").concat(t),css:"\n       ::view-transition-group(root) {\n        animation-duration: 0.7s;\n        animation-timing-function: var(--expo-out);\n      }\n            \n      ::view-transition-new(root) {\n        animation-name: reveal-light;\n      }\n\n      ::view-transition-old(root),\n      .dark::view-transition-old(root) {\n        animation: none;\n        z-index: -1;\n      }\n      .dark::view-transition-new(root) {\n        animation-name: reveal-dark;\n      }\n\n      @keyframes reveal-dark {\n        from {\n          clip-path: circle(0% at 50% 50%);\n        }\n        to {\n          clip-path: circle(100.0% at 50% 50%);\n        }\n      }\n\n      @keyframes reveal-light {\n        from {\n           clip-path: circle(0% at 50% 50%);\n        }\n        to {\n          clip-path: circle(100.0% at 50% 50%);\n        }\n      }\n      "}:"gif"===e?{name:"".concat(e,"-").concat(t),css:"\n      ::view-transition-group(root) {\n  animation-timing-function: var(--expo-in);\n}\n\n::view-transition-new(root) {\n  mask: url('".concat(n,"') center / 0 no-repeat;\n  animation: scale 3s;\n}\n\n::view-transition-old(root),\n.dark::view-transition-old(root) {\n  animation: scale 3s;\n}\n\n@keyframes scale {\n  0% {\n    mask-size: 0;\n  }\n  10% {\n    mask-size: 50vmax;\n  }\n  90% {\n    mask-size: 50vmax;\n  }\n  100% {\n    mask-size: 2000vmax;\n  }\n}")}:{name:"".concat(e,"-").concat(t),css:"\n      ::view-transition-group(root) {\n        animation-timing-function: var(--expo-out);\n      }\n      ::view-transition-new(root) {\n        mask: url('".concat(r,"') ").concat(t.replace("-"," ")," / 0 no-repeat;\n        mask-origin: content-box;\n        animation: scale-").concat(t," 1s;\n        transform-origin: ").concat(a,";\n      }\n      ::view-transition-old(root),\n      .dark::view-transition-old(root) {\n        animation: scale-").concat(t," 1s;\n        transform-origin: ").concat(a,";\n        z-index: -1;\n      }\n      @keyframes scale-").concat(t," {\n        to {\n          mask-size: 350vmax;\n        }\n      }\n    ")}})(t,n,i);d(e.css,e.name);let r=()=>{l("light"===s?"dark":"light")};if(!document.startViewTransition)return void r();document.startViewTransition(r)},[s,l]);return(0,r.jsxs)(b,{onClick:u,variant:"ghost",size:"icon",className:"w-9 h-9 relative group bg-gray-300 text-black dark:bg-gray-900 dark:text-white cursor-pointer",name:"Theme Toggle Button",children:[(0,r.jsx)(p.A,{className:"size-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,r.jsx)(h.A,{className:"absolute size-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,r.jsx)("span",{className:"sr-only",children:"Theme Toggle "}),o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{className:"hidden group-hover:block border rounded-full px-2 absolute -top-10",children:[" ","variant = ",t]}),(0,r.jsxs)("span",{className:"hidden group-hover:block border rounded-full px-2 absolute -bottom-10",children:[" ","start = ",n]})]})]})}let k=()=>{let e=(0,s.useRouter)(),t=(0,o.wA)(),n=(0,o.d4)(e=>e.counter.user),p=(0,o.d4)(e=>e.counter.cart).reduce((e,t)=>e+t.quantity,0),[h,g]=(0,a.useState)(null),[x,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(n)g(n);else{let e=localStorage.getItem("user");if(e)try{g(JSON.parse(e))}catch(e){console.error("Invalid user in localStorage")}}},[n]);let f=()=>{if(!h)return null;let t=h.profilePicture,n=h.name?h.name.charAt(0).toUpperCase():"U";return(0,r.jsxs)("span",{onClick:()=>e.push("/Components/Profile"),className:"text-sm text-yellow-300 font-medium cursor-pointer flex items-center gap-2",children:[t?(0,r.jsx)("img",{src:t,alt:"Profile",className:"w-6 h-6 rounded-full object-cover border border-yellow-400"}):(0,r.jsx)("div",{className:"w-6 h-6 rounded-full bg-yellow-400 flex items-center justify-center text-gray-900 font-bold text-xs",children:n}),"Welcome, ",h.name||h.email||"User"]})};return(0,r.jsxs)("nav",{className:"fixed top-0 left-0 w-full bg-gray-700 z-60",children:[(0,r.jsxs)("div",{className:"relative flex items-center justify-between px-4 md:px-10 py-4",children:[(0,r.jsxs)("h1",{className:"text-xl font-bold text-yellow-400 flex items-center gap-2",children:[(0,r.jsx)(d.WrD,{}),"My Shop"]}),(0,r.jsxs)("div",{className:"absolute left-60 hidden md:flex space-x-10",children:[(0,r.jsx)("span",{onClick:()=>e.push("/Components/HomePage"),className:"text-yellow-100 font-semibold hover:underline cursor-pointer",children:"Home"}),(0,r.jsx)("span",{onClick:()=>e.push("/Components/AboutUs"),className:"text-yellow-100 font-semibold hover:underline cursor-pointer",children:"About"}),(0,r.jsx)("span",{onClick:()=>e.push("/Components/MyOrders"),className:"text-yellow-100 font-semibold hover:underline cursor-pointer",children:"My Orders"})]}),(0,r.jsxs)("div",{className:"hidden md:flex space-x-6 items-center",children:[(0,r.jsx)(w,{variant:"circle-blur",start:"top-right",className:"w-9 h-9 rounded-full"}),(0,r.jsxs)("div",{onClick:()=>e.push("/Components/Cart"),className:"relative cursor-pointer",children:[(0,r.jsx)(l.LOi,{size:28,className:"text-white"}),p>0&&(0,r.jsx)("span",{className:"absolute -top-2 -right-2 bg-yellow-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:p})]}),f()]}),(0,r.jsxs)("div",{className:"md:hidden flex gap-10 py-0.5",children:[(0,r.jsxs)("div",{onClick:()=>{e.push("/Components/Cart"),v(!1)},className:"relative",children:[(0,r.jsx)(l.LOi,{size:28,className:"text-white"}),p>0&&(0,r.jsx)("span",{className:"absolute -top-2 -right-2 bg-yellow-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:p})]}),(0,r.jsx)("button",{onClick:()=>v(!x),children:(0,r.jsx)(u.N,{mode:"wait",children:x?(0,r.jsx)(m.P.div,{initial:{opacity:0,scale:.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.1},transition:{duration:.1},children:(0,r.jsx)(c.U_s,{size:28,className:"text-white"})},"close"):(0,r.jsx)(m.P.div,{initial:{opacity:0,scale:1.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.5},transition:{duration:.1},children:(0,r.jsx)(c.fcC,{size:28,className:"text-white"})},"menu")})})]})]}),x&&(0,r.jsxs)(m.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:[.4,0,.2,1]},className:"relative flex flex-col md:hidden bg-gray-800 px-4 pb-4 space-y-4 py-2",children:[(0,r.jsx)("div",{onClick:()=>{v(!1)},className:"absolute right-4",children:(0,r.jsx)(w,{showLabel:!0,variant:"circle-blur",start:"top-right",className:"w-9 h-9 rounded-full"})}),(0,r.jsx)("span",{onClick:()=>{e.push("/Components/HomePage"),v(!1)},className:"text-yellow-100 text-center font-semibold hover:underline cursor-pointer",children:"Home"}),(0,r.jsx)("span",{onClick:()=>{e.push("/Components/AboutUs"),v(!1)},className:"text-yellow-100 text-center font-semibold hover:underline cursor-pointer",children:"About"}),(0,r.jsx)("span",{onClick:()=>{e.push("/Components/MyOrders"),v(!1)},className:"text-yellow-100 text-center font-semibold hover:underline cursor-pointer",children:"My Orders"}),(0,r.jsx)("div",{className:"flex justify-center",children:f()}),(0,r.jsx)("button",{onClick:()=>{t((0,i.ri)()),e.push("/Components/Login"),v(!1)},className:"bg-red-500 hover:bg-red-600 text-white px-4 py-1 rounded",children:"Logout"})]})]})}}}]);